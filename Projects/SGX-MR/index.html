<html><head><meta content="text/html; charset=UTF-8" http-equiv="content-type"><style type="text/css">@import url('https://themes.googleusercontent.com/fonts/css?kit=sDU-RIIs3Wq_4pUcDwWu-05zdwzqyXAFhQ3EpAK6bTA');ol.lst-kix_lebi1exyurc5-7.start{counter-reset:lst-ctn-kix_lebi1exyurc5-7 0}ol.lst-kix_lebi1exyurc5-0{list-style-type:none}ol.lst-kix_lebi1exyurc5-1{list-style-type:none}.lst-kix_lebi1exyurc5-5>li{counter-increment:lst-ctn-kix_lebi1exyurc5-5}ol.lst-kix_lebi1exyurc5-2{list-style-type:none}ol.lst-kix_lebi1exyurc5-2.start{counter-reset:lst-ctn-kix_lebi1exyurc5-2 0}.lst-kix_lebi1exyurc5-2>li{counter-increment:lst-ctn-kix_lebi1exyurc5-2}.lst-kix_lebi1exyurc5-7>li{counter-increment:lst-ctn-kix_lebi1exyurc5-7}.lst-kix_lebi1exyurc5-0>li{counter-increment:lst-ctn-kix_lebi1exyurc5-0}ol.lst-kix_lebi1exyurc5-0.start{counter-reset:lst-ctn-kix_lebi1exyurc5-0 0}ol.lst-kix_lebi1exyurc5-5.start{counter-reset:lst-ctn-kix_lebi1exyurc5-5 0}.lst-kix_lebi1exyurc5-8>li:before{content:"" counter(lst-ctn-kix_lebi1exyurc5-8,lower-roman) ". "}.lst-kix_lebi1exyurc5-3>li{counter-increment:lst-ctn-kix_lebi1exyurc5-3}ol.lst-kix_lebi1exyurc5-1.start{counter-reset:lst-ctn-kix_lebi1exyurc5-1 0}.lst-kix_lebi1exyurc5-6>li:before{content:"" counter(lst-ctn-kix_lebi1exyurc5-6,decimal) ". "}.lst-kix_lebi1exyurc5-6>li{counter-increment:lst-ctn-kix_lebi1exyurc5-6}.lst-kix_lebi1exyurc5-7>li:before{content:"" counter(lst-ctn-kix_lebi1exyurc5-7,lower-latin) ". "}.lst-kix_lebi1exyurc5-3>li:before{content:"" counter(lst-ctn-kix_lebi1exyurc5-3,decimal) ". "}ol.lst-kix_lebi1exyurc5-6.start{counter-reset:lst-ctn-kix_lebi1exyurc5-6 0}ol.lst-kix_lebi1exyurc5-8.start{counter-reset:lst-ctn-kix_lebi1exyurc5-8 0}ol.lst-kix_lebi1exyurc5-3.start{counter-reset:lst-ctn-kix_lebi1exyurc5-3 0}.lst-kix_lebi1exyurc5-4>li:before{content:"" counter(lst-ctn-kix_lebi1exyurc5-4,lower-latin) ". "}.lst-kix_lebi1exyurc5-5>li:before{content:"" counter(lst-ctn-kix_lebi1exyurc5-5,lower-roman) ". "}ol.lst-kix_lebi1exyurc5-4.start{counter-reset:lst-ctn-kix_lebi1exyurc5-4 0}.lst-kix_lebi1exyurc5-4>li{counter-increment:lst-ctn-kix_lebi1exyurc5-4}.lst-kix_lebi1exyurc5-1>li{counter-increment:lst-ctn-kix_lebi1exyurc5-1}.lst-kix_lebi1exyurc5-2>li:before{content:"" counter(lst-ctn-kix_lebi1exyurc5-2,lower-roman) ". "}ol.lst-kix_lebi1exyurc5-3{list-style-type:none}.lst-kix_lebi1exyurc5-8>li{counter-increment:lst-ctn-kix_lebi1exyurc5-8}ol.lst-kix_lebi1exyurc5-4{list-style-type:none}ol.lst-kix_lebi1exyurc5-5{list-style-type:none}ol.lst-kix_lebi1exyurc5-6{list-style-type:none}.lst-kix_lebi1exyurc5-0>li:before{content:"" counter(lst-ctn-kix_lebi1exyurc5-0,decimal) ". "}ol.lst-kix_lebi1exyurc5-7{list-style-type:none}ol.lst-kix_lebi1exyurc5-8{list-style-type:none}.lst-kix_lebi1exyurc5-1>li:before{content:"" counter(lst-ctn-kix_lebi1exyurc5-1,lower-latin) ". "}ol{margin:0;padding:0}table td,table th{padding:0}.c3{-webkit-text-decoration-skip:none;color:#1155cc;font-weight:400;text-decoration:underline;text-decoration-skip-ink:none;font-size:14pt;font-family:"Cambria"}.c11{padding-top:16pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:justify}.c6{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Cambria";font-style:normal}.c18{padding-top:16pt;padding-bottom:4pt;line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.c13{color:#000000;font-weight:700;text-decoration:none;vertical-align:baseline;font-size:18pt;font-family:"Cambria";font-style:normal}.c21{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Cambria";font-style:normal}.c16{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:10pt;font-family:"Times New Roman";font-style:normal}.c0{color:#434343;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:18pt;font-family:"Cambria";font-style:normal}.c8{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:14pt;font-family:"Cambria";font-style:normal}.c1{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left;height:11pt}.c19{margin-left:5.6pt;padding-top:4.5pt;text-indent:0.3pt;padding-bottom:0pt;line-height:1.0;text-align:center;margin-right:3.6pt}.c7{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:12pt;font-family:"Cambria";font-style:normal}.c17{color:#000000;font-weight:400;text-decoration:none;vertical-align:baseline;font-size:11pt;font-family:"Times New Roman";font-style:normal}.c9{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:justify}.c2{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:center}.c12{padding-top:0pt;padding-bottom:0pt;line-height:1.15;orphans:2;widows:2;text-align:left}.c4{padding-top:0.2pt;padding-bottom:0pt;line-height:1.0;text-align:center;margin-right:3.2pt}.c10{background-color:#ffffff;max-width:720pt;padding:36pt 36pt 36pt 36pt}.c20{padding:0;margin:0}.c5{color:inherit;text-decoration:inherit}.c14{margin-left:36pt;padding-left:0pt}.c15{height:11pt}.title{padding-top:0pt;color:#000000;font-size:26pt;padding-bottom:3pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}.subtitle{padding-top:0pt;color:#666666;font-size:15pt;padding-bottom:16pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}li{color:#000000;font-size:11pt;font-family:"Arial"}p{margin:0;color:#000000;font-size:11pt;font-family:"Arial"}h1{padding-top:20pt;color:#000000;font-size:20pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h2{padding-top:18pt;color:#000000;font-size:16pt;padding-bottom:6pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h3{padding-top:16pt;color:#434343;font-size:14pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h4{padding-top:14pt;color:#666666;font-size:12pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h5{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;orphans:2;widows:2;text-align:left}h6{padding-top:12pt;color:#666666;font-size:11pt;padding-bottom:4pt;font-family:"Arial";line-height:1.15;page-break-after:avoid;font-style:italic;orphans:2;widows:2;text-align:left}</style></head><body class="c10"><p class="c2"><span class="c13">SGX-MR: Regulating Data Flow to Hide Access Pattern Leakage</span></p><p class="c2"><span class="c13">of SGX Based Application by MapReduce</span></p><p class="c1"><span class="c6"></span></p><p class="c2"><span class="c8">Data-Intensive Analysis and Computing (DIAC) Lab,</span></p><p class="c2"><span class="c8">the Ohio Center of Excellence on Knowledge Enabled Computing (Kno.e.sis Center)</span></p><p class="c2"><span class="c8">Wright State University</span></p><h3 class="c11" id="h.kpfuc6nb02kv"><span class="c0">Motivation</span></h3><p class="c9"><span class="c7">Parvessive amount of data computation in the cloud and the ever-growing demand for high scale data processing made public cloud to an inevitable platform. The myriad amount of applications, like AI, big data analytics, machine learning, web, mobile, and IoT services are hosted in the cloud due to storage capacity, scalability, and accessibility. Contrarily extensive use of cloud computing allowed cloud owners and other adversaries to attack data on the cloud in multiple dimensions.</span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 338.50px; height: 320.23px;"><img alt="" src="images/image1.png" style="width: 338.50px; height: 320.23px; margin-left: 0.00px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c2"><span class="c6">Figure 1: Cloud Client unwittingly leaks data and code by trusting cloud owners.</span></p><p class="c1"><span class="c6"></span></p><p class="c9"><span class="c7">Recently, hardware-level privacy protection addresses the performance and usability issues of existing techniques. It facilitates a Trusted Computing Base (TCB) that provides an isolated environment from the system owner which enables cloud users to protect their data and computation in a fully protected environment. Intel released a set of instruction code-named Software Guard Extension (SGX) built into Intel&#39;s modern CPU units. Using SGX, a user can run their sensitive computations in a Trusted Execution Environment (TEE) called enclave, which uses a hardware mechanism to preserve the privacy and integrity of enclave memory. After the creation and authentication of an enclave, the system owner cannot access the enclave memory.</span></p><p class="c4"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 309.17px; height: 249.44px;"><img alt="" src="images/image2.png" style="width: 309.73px; height: 249.44px; margin-left: -0.28px; margin-top: 0.00px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c4"><span class="c17">Figure 2: Access pattern-based attacks on SGX Enclave.</span></p><p class="c4 c15"><span class="c16"></span></p><p class="c9"><span class="c7">While it&rsquo;s improving the performance and protect the computation inside the enclave, yet to protect the privacy of the entire application user has to face many challenges. First of all, due to the limitation of the memory size of the enclave, users have to map their application to enclave size. Then, &nbsp;users have to manually partition their application into a trusted and untrusted part and maintain secure communication between them. Even after overcoming these nontrivial challenges users cannot guarantee full privacy protection from the adversaries. A number of studies showed different problems and applications unwittingly leaks privacy- like access pattern based attacks. Users must design each application and write the enclave code cautiously to protect these attacks. </span></p><p class="c9 c15"><span class="c7"></span></p><p class="c9"><span class="c7">Several types of research have been done [1][2] to combine SGX and the latest ORAM data structures to hide the access pattern leakage. ORAM protects the data access pattern of the application, but it slows down the performance of applications in multiple order of magnitude. Therefore, feasibly protecting access pattern based attacks with a regulated overhead remains an open problem.</span></p><p class="c1"><span class="c6"></span></p><p class="c1"><span class="c6"></span></p><h3 class="c18" id="h.wbzy6ohl9oow"><span class="c0">SGX-MR</span></h3><p class="c12"><span class="c7">We consider a setting where a privacy-aware client wants to outsource a problem in a server that supports SGX and willing to apply for one of the fastest implementations of ORAM solution to prevent all the possibilities of side-channel attacks. We argue that if the problem can be converted to a &nbsp;MapReduce technique it is possible to guarantee that the problem can be solved more efficiently than the existing ORAM solution while both approaches provide the same level of security. </span></p><p class="c1"><span class="c7"></span></p><p class="c12"><span class="c7">After carefully analyzing the challenges of ORAM and other techniques from various applications, we discovered an insight and develop a generic Map Reduce solution that can hide all the possibilities of access pattern based attacks. As we know, we are the first who insightfully applied map reduce technique to resolve access pattern leakage in an SGX based application.</span></p><p class="c1"><span class="c7"></span></p><p class="c2"><span style="overflow: hidden; display: inline-block; margin: 0.00px 0.00px; border: 0.00px solid #000000; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px); width: 438.50px; height: 250.39px;"><img alt="" src="images/image3.png" style="width: 438.50px; height: 263.01px; margin-left: 0.00px; margin-top: -6.31px; transform: rotate(0.00rad) translateZ(0px); -webkit-transform: rotate(0.00rad) translateZ(0px);" title=""></span></p><p class="c19"><span class="c6">Figure 3: High-Level Diagram of SGX-MR. Shaded Modules will be executed in Enclave.</span></p><p class="c1"><span class="c7"></span></p><p class="c9"><span class="c7">We consider a setting where the cloud server supports intel SGX and our framework utilizes SGX to hide access pattern based attacks. We partitioned the entire Framework into two parts, i.e., Trusted and Untrusted Parts. The only user-provided data and small codes to run the SGX-MR will be in the untrusted part. The entire SGX-MR framework will stay and execute from the enclave. We defined a simple enclave interface to communicate between the trusted and untrusted parts. In SGX-MR, MR Controller handles the MapReduce tasks and controls all the dataflow of the application. Users will only provide the map() and reduce() functions to execute privately. To hide frequent interaction between trusted and untrusted boundaries and to provide an abstraction over the original records, we defined fixed-size blocks consisting of a fixed number of records in each block. Both block size and record limit is tunable based on the specification of the problem. We designed a Block Data Manager which creates and translates the blocks from the records. Using crypto module Data Manager decrypt the blocks after reading from the untrusted parts and re-encrypt it during the creation of each block. We carefully analyze the Shuffle phase of MapReduce tasks and designed a Shuffler to perform oblivious shuffle operation by hiding all the access pattern of sorting and grouping operations. </span></p><p class="c1"><span class="c7"></span></p><p class="c12"><span class="c7">To show our claim, we implemented the SGX-MR framework to evaluate some of the applications and compare our results with an efficient ORAM based solution. To make a fair comparison we design experiments with similar settings (Block based operations with the same number of records in each block). Soon after completing the evaluation we will post the results here.</span></p><h3 class="c18" id="h.g9ybyximveh8"><span class="c0">Related Works</span></h3><ol class="c20 lst-kix_lebi1exyurc5-0 start" start="1"><li class="c9 c14"><span class="c3"><a class="c5" href="https://www.google.com/url?q=https://eprint.iacr.org/2017/549.pdf&amp;sa=D&amp;ust=1573069262434000">ZeroTrace: Oblivious Memory Primitives from Intel SGX</a></span></li><li class="c9 c14"><span class="c3"><a class="c5" href="https://www.google.com/url?q=https://lifeasageek.github.io/papers/ahmad:obliviate.pdf&amp;sa=D&amp;ust=1573069262435000">OBLIVIATE: A Data Oblivious File System for Intel SGX</a></span></li><li class="c9 c14"><span class="c3"><a class="c5" href="https://www.google.com/url?q=https://www.usenix.org/system/files/conference/usenixsecurity15/sec15-paper-dinh.pdf&amp;sa=D&amp;ust=1573069262435000">M2R: Enabling Stronger Privacy in MapReduce Computation</a></span></li><li class="c9 c14"><span class="c3"><a class="c5" href="https://www.google.com/url?q=https://www.microsoft.com/en-us/research/wp-content/uploads/2016/02/vc3-oakland2015.pdf&amp;sa=D&amp;ust=1573069262436000">VC3: Trustworthy Data Analytics in the Cloud using SGX</a></span></li><li class="c9 c14"><span class="c3"><a class="c5" href="https://www.google.com/url?q=https://arxiv.org/pdf/1705.05684.pdf&amp;sa=D&amp;ust=1573069262436000">A lightweight MapReduce framework for secure processing with SGX</a></span></li><li class="c9 c14"><span class="c3"><a class="c5" href="https://www.google.com/url?q=https://people.eecs.berkeley.edu/~wzheng/opaque.pdf&amp;sa=D&amp;ust=1573069262437000">Opaque: An Oblivious and Encrypted Distributed Analytics Platform</a></span></li></ol></body></html>